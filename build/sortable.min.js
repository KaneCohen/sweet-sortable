(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["sortable"]=factory();else root["sortable"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){var emitter=__webpack_require__(1);var classes=__webpack_require__(2);var events=__webpack_require__(4);var closest=__webpack_require__(7);var event=__webpack_require__(5);var throttle=__webpack_require__(10);var transform=__webpack_require__(12);var util=__webpack_require__(13);var Animate=__webpack_require__(18);var transition=__webpack_require__(16);var transitionend=__webpack_require__(19);var hasTouch="ontouchend"in window;module.exports=Sortable;function Sortable(el,opts){if(!(this instanceof Sortable))return new Sortable(el,opts);if(!el)throw new TypeError("sortable(): expects an element");opts=opts||{};this.delta=opts.delta==null?10:opts.delta;this.el=el;util.touchAction(el,"none");this.pel=util.getRelativeElement(el);this.dragging=false;var h;this.on("start",function(){h=el.style.height;var ch=el.getBoundingClientRect().height||el.clientHeight;el.style.height=ch+"px"});this.on("end",function(){el.style.height=h})}emitter(Sortable.prototype);Sortable.prototype.bind=function(selector){this.selector=selector||"";this.docEvents=events(document,this);this.events=events(this.el,this);this.events.bind("touchstart");this.events.bind("touchmove");this.events.bind("touchend");this.events.bind("touchcancel","ontouchend");this.docEvents.bind("touchend");if(!hasTouch){this.events.bind("mousedown","ontouchstart");this.events.bind("mousemove","ontouchmove");this.docEvents.bind("mouseup","ontouchend")}this.events.bind("PointerDown","ontouchstart");this.events.bind("PointerMove","ontouchmove");this.docEvents.bind("PointerUp","ontouchstart");return this};Sortable.prototype.ignore=function(selector){this.ignored=selector;return this};Sortable.prototype.horizon=function(){this.dir="horizon";return this};Sortable.prototype.handle=function(selector){this._handle=selector;return this};Sortable.prototype.ontouchstart=function(e){if(this.ignored&&closest(e.target,this.ignored,this.el))return;var node=this.findMatch(e);if(node)node=util.matchAsChild(node,this.el);if(node==null)return;if(node===this.disabled)return;var touch=util.getTouch(e);if(this._handle)e.preventDefault();this.timer=setTimeout(function(){this.dragEl=node;this.index=util.indexof(node);this.children=util.getChildElements(this.el);var pos=util.getAbsolutePosition(node,this.pel);var holder=this.holder=node.cloneNode(false);holder.removeAttribute("id");classes(holder).add("sortable-holder");util.copy(holder.style,{backgroundColor:"rgba(255,255,255,0)",height:pos.height+"px",width:pos.width+"px"});this.mouseStart={x:touch.clientX,y:touch.clientY};classes(node).add("sortable-dragging");this.orig=util.copy(node.style,{height:pos.height+"px",width:pos.width+"px",left:pos.left+"px",top:pos.top+"px",zIndex:99,position:"absolute"});this.el.insertBefore(holder,node);this.dragging=true;this.animate=new Animate(this.pel,node,holder);this.emit("start")}.bind(this),100)};Sortable.prototype.ontouchmove=function(e){if(this.dragEl==null||this.index==null)return;if(e.changedTouches&&e.changedTouches.length!==1)return;if(e.defaultPrevented)return;e.preventDefault();e.stopPropagation();var touch=util.getTouch(e);var touchDir=0;var sx=this.mouseStart.x;var sy=this.mouseStart.y;var d=this.dragEl;var dx=touch.clientX-(this.x||sx);var dy=touch.clientY-(this.y||sy);this.x=touch.clientX;this.y=touch.clientY;if(this.dir==="horizon"){this.tx=touch.clientX-sx;util.translate(d,this.tx,0);touchDir=dx>0?1:3;if(dx===0)return}else{this.ty=touch.clientY-sy;util.translate(d,0,this.ty);touchDir=dy>0?0:2;if(dy===0)return}if(util.getPosition(touch.clientX,touch.clientY,this.el)){this.positionHolder(touch,touchDir)}return false};Sortable.prototype.ontouchend=function(){this.reset()};Sortable.prototype.remove=Sortable.prototype.unbind=function(){this.events.unbind();this.docEvents.unbind();this.off()};Sortable.prototype.findMatch=function(e){if(this._handle)return closest(e.target,this._handle,this.el);if(this.selector){var el=closest(e.target,this.selector,this.el);return el}return util.matchAsChild(e.target,this.el)};var positionHolder=function(e,touchDir){var d=this.dragEl;if(d==null)return;var delta=this.delta;var rect=d.getBoundingClientRect();var x=rect.left+rect.width/2;var y=rect.top+rect.height/2;var horizon=this.dir==="horizon";var children=this.children;for(var i=children.length-1;i>=0;i--){var node=children[i];if(node===d)continue;var pos=util.getPosition(x,y,node);if(!pos)continue;if(horizon){if(touchDir===1&&pos.dx>-delta){this.animate.animate(node,3)}else if(touchDir===3&&pos.dx<delta){this.animate.animate(node,1)}}else{if(touchDir===2&&pos.dy<=delta){this.animate.animate(node,0)}else if(touchDir===0&&pos.dy>=-delta){this.animate.animate(node,2)}}}};Sortable.prototype.positionHolder=throttle(positionHolder);Sortable.prototype.reset=function(){if(this.timer){clearTimeout(this.timer);this.timer=null}if(this.dragging===false)return;this.dragging=false;var p=this.el;var el=this.dragEl;var h=this.holder;if(!h)return;this.moveTo(h,function(){el.style[transform]="";p.insertBefore(el,h);p.removeChild(h);util.copy(el.style,this.orig);classes(el).remove("sortable-dragging");if(util.indexof(el)!==this.index){this.emit("update",el)}delete this.index;this.children=this.animate=this.holder=this.dragEl=null;this.emit("end")}.bind(this))};Sortable.prototype.moveTo=function(target,cb){var el=this.dragEl;this.disabled=el;var duration=320;util.transitionDuration(el,duration,"linear");var tx=this.tx||0;var ty=this.ty||0;var dis=this.getDistance(el,target,this.animate.dir);var x=tx+dis.x;var y=ty+dis.y;var nomove=dis.x===0&&dis.y===0;var self=this;var fn=function(){el.style[transition]="";self.disabled=null;cb()};if(nomove){setTimeout(fn,duration)}else{var end=function(){event.unbind(el,transitionend,end);fn()};event.bind(el,transitionend,end);util.translate(el,x,y)}};Sortable.prototype.getDistance=function(from,to,dir){var x;var y;var r=from.getBoundingClientRect();var tr=to.getBoundingClientRect();var prop;if(dir%2===0){x=0;prop=dir===0?"top":"bottom";y=tr[prop]-r[prop]}else{y=0;prop=dir===1?"left":"right";x=tr[prop]-r[prop]}return{x:x,y:y}}},function(module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks["$"+event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks["$"+event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports,__webpack_require__){var index=__webpack_require__(3);var re=/\s+/;var toString=Object.prototype.toString;module.exports=function(el){return new ClassList(el)};function ClassList(el){if(!el||!el.nodeType){throw new Error("A DOM element reference is required")}this.el=el;this.list=el.classList}ClassList.prototype.add=function(name){if(this.list){this.list.add(name);return this}var arr=this.array();var i=index(arr,name);if(!~i)arr.push(name);this.el.className=arr.join(" ");return this};ClassList.prototype.remove=function(name){if("[object RegExp]"==toString.call(name)){return this.removeMatching(name)}if(this.list){this.list.remove(name);return this}var arr=this.array();var i=index(arr,name);if(~i)arr.splice(i,1);this.el.className=arr.join(" ");return this};ClassList.prototype.removeMatching=function(re){var arr=this.array();for(var i=0;i<arr.length;i++){if(re.test(arr[i])){this.remove(arr[i])}}return this};ClassList.prototype.toggle=function(name,force){if(this.list){if("undefined"!==typeof force){if(force!==this.list.toggle(name,force)){this.list.toggle(name)}}else{this.list.toggle(name)}return this}if("undefined"!==typeof force){if(!force){this.remove(name)}else{this.add(name)}}else{if(this.has(name)){this.remove(name)}else{this.add(name)}}return this};ClassList.prototype.array=function(){var className=this.el.getAttribute("class")||"";var str=className.replace(/^\s+|\s+$/g,"");var arr=str.split(re);if(""===arr[0])arr.shift();return arr};ClassList.prototype.has=ClassList.prototype.contains=function(name){return this.list?this.list.contains(name):!!~index(this.array(),name)}},function(module,exports){module.exports=function(arr,obj){if(arr.indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}},function(module,exports,__webpack_require__){var events=__webpack_require__(5);var delegate=__webpack_require__(6);module.exports=Events;function Events(el,obj){if(!(this instanceof Events))return new Events(el,obj);if(!el)throw new Error("element required");if(!obj)throw new Error("object required");this.el=el;this.obj=obj;this._events={}}Events.prototype.sub=function(event,method,cb){this._events[event]=this._events[event]||{};this._events[event][method]=cb};Events.prototype.bind=function(event,method){var e=parse(event);var el=this.el;var obj=this.obj;var name=e.name;var method=method||"on"+name;var args=[].slice.call(arguments,2);function cb(){var a=[].slice.call(arguments).concat(args);obj[method].apply(obj,a)}if(e.selector){cb=delegate.bind(el,e.selector,name,cb)}else{events.bind(el,name,cb)}this.sub(name,method,cb);return cb};Events.prototype.unbind=function(event,method){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(event);var bindings=this._events[event];if(!bindings)return;var cb=bindings[method];if(!cb)return;events.unbind(this.el,event,cb)};Events.prototype.unbindAll=function(){for(var event in this._events){this.unbindAllOf(event)}};Events.prototype.unbindAllOf=function(event){var bindings=this._events[event];if(!bindings)return;for(var method in bindings){this.unbind(event,method)}};function parse(event){var parts=event.split(/ +/);return{name:parts.shift(),selector:parts.join(" ")}}},function(module,exports){var bind=window.addEventListener?"addEventListener":"attachEvent",unbind=window.removeEventListener?"removeEventListener":"detachEvent",prefix=bind!=="addEventListener"?"on":"";exports.bind=function(el,type,fn,capture){el[bind](prefix+type,fn,capture||false);return fn};exports.unbind=function(el,type,fn,capture){el[unbind](prefix+type,fn,capture||false);return fn}},function(module,exports,__webpack_require__){var closest=__webpack_require__(7),event=__webpack_require__(5);exports.bind=function(el,selector,type,fn,capture){return event.bind(el,type,function(e){var target=e.target||e.srcElement;e.delegateTarget=closest(target,selector,true,el);if(e.delegateTarget)fn.call(el,e)},capture)};exports.unbind=function(el,type,fn,capture){event.unbind(el,type,fn,capture)}},function(module,exports,__webpack_require__){var matches=__webpack_require__(8);module.exports=closest;function closest(el,selector,scope){scope=scope||document.documentElement;while(el&&el!==scope){if(matches(el,selector))return el;el=el.parentNode}return matches(el,selector)?el:null}},function(module,exports,__webpack_require__){var query=__webpack_require__(9);var proto=Element.prototype;var vendor=proto.matches||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(!el||el.nodeType!==1)return false;if(vendor)return vendor.call(el,selector);var nodes=query.all(selector,el.parentNode);for(var i=0;i<nodes.length;++i){if(nodes[i]==el)return true}return false}},function(module,exports){function one(selector,el){return el.querySelector(selector)}exports=module.exports=function(selector,el){el=el||document;return one(selector,el)};exports.all=function(selector,el){el=el||document;return el.querySelectorAll(selector)};exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");one=obj.one;exports.all=obj.all;return exports}},function(module,exports,__webpack_require__){var raf=__webpack_require__(11);module.exports=throttle;function throttle(fn){var rtn;var ignoring=false;return function queue(){if(ignoring)return rtn;ignoring=true;raf(function(){ignoring=false});rtn=fn.apply(this,arguments);return rtn}}},function(module,exports){exports=module.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||fallback;var prev=(new Date).getTime();function fallback(fn){var curr=(new Date).getTime();var ms=Math.max(0,16-(curr-prev));var req=setTimeout(fn,ms);prev=curr;return req}var cancel=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;exports.cancel=function(id){cancel.call(window,id)}},function(module,exports){var styles=["webkitTransform","MozTransform","msTransform","OTransform","transform"];var el=document.createElement("p");var style;for(var i=0;i<styles.length;i++){style=styles[i];if(null!=el.style[style]){module.exports=style;break}}},function(module,exports,__webpack_require__){var styles=__webpack_require__(14);var transform=__webpack_require__(12);var has3d=__webpack_require__(15);var transition=__webpack_require__(16);var touchAction=__webpack_require__(17);exports.matchAsChild=function(el,topEl){if(el===topEl)return;do{if(el.parentNode===topEl)return el;el=el.parentNode}while(el)};exports.getPosition=function(x,y,el){var rect=el.getBoundingClientRect();var w=rect.width||el.offsetWidth;var h=rect.height||el.offsetHeight;if(x>rect.left&&x<rect.left+w&&y>rect.top&&y<rect.top+h){return{dx:x-(rect.left+w/2),dy:y-(rect.top+h/2)}}return false};var getAbsolutePosition=exports.getAbsolutePosition=function(el,pel){var r=el.getBoundingClientRect();var rect=pel.getBoundingClientRect();return{left:r.left-rect.left,top:r.top-rect.top,width:r.width||el.offsetWidth,height:r.height||el.offsetHeight}};exports.makeAbsolute=function(el,pel){var pos=getAbsolutePosition(el,pel);var orig=copy(el.style,{height:pos.height+"px",width:pos.width+"px",left:pos.left+"px",top:pos.top+"px",position:"absolute","float":"none"});return orig};var doc=document.documentElement;exports.getRelativeElement=function(el){do{el=el.parentNode;if(el===doc)return el;var p=styles(el,"position");if(p==="absolute"||p==="fixed"||p==="relative"){return el}}while(el)};exports.insertAfter=function(newNode,ref){if(ref.nextSibling){ref.parentNode.insertBefore(newNode,ref.nextSibling)}else{ref.parentNode.appendChild(newNode)}};var copy=exports.copy=function(to,from){var orig={};Object.keys(from).forEach(function(k){orig[k]=to[k];to[k]=from[k]});return orig};exports.indexof=function(el){var children=el.parentNode.children;for(var i=children.length-1;i>=0;i--){var node=children[i];if(node===el){return i}}};exports.translate=function(el,x,y){var s=el.style;x=x||0;y=y||0;if(has3d){s[transform]="translate3d("+x+"px,"+y+"px, 0)"}else{s[transform]="translateX("+x+"px),translateY("+y+"px)"}};var prefix=transition.replace(/transition/i,"").toLowerCase();exports.transitionDuration=function(el,ms,ease){var s=el.style;ease=ease||"ease-in-out";if(!prefix){s[transition]=ms+"ms transform "+ease}else{s[transition]=ms+"ms -"+prefix+"-transform "+ease}};exports.getTouch=function(e){var touch=e;if(e.changedTouches&&e.changedTouches.length>0){touch=e.changedTouches[0]}return touch};exports.touchAction=function(el,value){var s=el.style;if(touchAction){s[touchAction]=value}};exports.getChildElements=function(el){var nodes=el.childNodes;var arr=[];for(var i=0,l=nodes.length;i<l;i++){var n=nodes[i];if(n.nodeType===1){arr.push(n)}}return arr}},function(module,exports){function computedStyle(el,prop,getComputedStyle,style){getComputedStyle=window.getComputedStyle;style=getComputedStyle?getComputedStyle(el):el.currentStyle;if(style){return style[prop.replace(/-(\w)/gi,function(word,letter){return letter.toUpperCase()})]}}module.exports=computedStyle},function(module,exports,__webpack_require__){var prop=__webpack_require__(12);if(!prop||!window.getComputedStyle){module.exports=false}else{var map={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};var el=document.createElement("div");el.style[prop]="translate3d(1px,1px,1px)";document.body.insertBefore(el,null);var val=getComputedStyle(el).getPropertyValue(map[prop]);document.body.removeChild(el);module.exports=null!=val&&val.length&&"none"!=val}},function(module,exports){var styles=["transition","webkitTransition","MozTransition","OTransition","msTransition"];var el=document.createElement("p");var style;for(var i=0;i<styles.length;i++){if(null!=el.style[styles[i]]){style=styles[i];break}}el=null;module.exports=style},function(module,exports){module.exports=touchActionProperty();function touchActionProperty(doc){if(!doc)doc=document;var div=doc.createElement("div");var prop=null;if("touchAction"in div.style)prop="touchAction";else if("msTouchAction"in div.style)prop="msTouchAction";div=null;return prop}},function(module,exports,__webpack_require__){var util=__webpack_require__(13);var transform=__webpack_require__(12);var transition=__webpack_require__(16);var transitionend=__webpack_require__(19);var event=__webpack_require__(5);var uid=__webpack_require__(20);function Animate(pel,dragEl,holder){var d=this.dragEl=dragEl;var r=d.getBoundingClientRect();this.holder=holder;this.dx=r.width||d.offsetWidth;this.dy=r.height||d.offsetHeight;this.pel=pel;this.animates={}}Animate.prototype.animate=function(el,dir){if(!el.id)el.id=uid(7);var o=this.animates[el.id]||{};if(o.dir===dir)return;this.dir=dir;o.dir=dir;if(o.end){event.unbind(el,transitionend,o.end);if(o.transform){o.transform=false;this.transit(el,0,0,dir)}else{o.transform=true;var props=this.getTransformProperty(dir);this.transit(el,props.x,props.y,dir)}}else{o.transform=true;util.transitionDuration(el,280);this.animates[el.id]=o;this.start(o,el,dir)}};Animate.prototype.getTransformProperty=function(dir){var x;var y;if(dir%2===0){y=dir>1?-this.dy:this.dy}else{x=dir>1?-this.dx:this.dx}return{x:x,y:y}};Animate.prototype.start=function(o,el,dir){var holder=this.holder;var r=holder.getBoundingClientRect();var h=r.height||holder.offsetHeight;var w=r.width||holder.offsetWidth;var s=holder.style;var orig=o.orig=util.makeAbsolute(el,this.pel);var isAbsolute=orig.position==="absolute";if(!isAbsolute){if(dir%2===0){s.height=h+this.dy+"px"}else{s.width=w+this.dx+"px"}}var props=this.getTransformProperty(dir);o.end=this.transit(el,props.x,props.y,dir)};Animate.prototype.transit=function(el,x,y,dir){var holder=this.holder;var s=holder.style;var p=el.parentNode;var self=this;var end=function(){event.unbind(el,transitionend,end);var o=self.animates[el.id];if(!o)return;var orig=o.orig;self.animates[el.id]=null;el.style[transition]="";el.style[transform]="";var removed=!holder.parentNode;if(!removed&&o.transform&&el.parentNode){if(dir>1){util.insertAfter(holder,el)}else{el.parentNode.insertBefore(holder,el)}}var isAbsolute=orig.position==="absolute";if(!isAbsolute){util.copy(el.style,orig)}if(removed)return;var rect=holder.getBoundingClientRect();if(dir%2===0){var dy=isAbsolute?0:self.dy;s.height=(rect.height||holder.offsetHeight)-dy+"px"}else{var dx=isAbsolute?0:self.dx;s.width=(rect.width||holder.offsetWidth)-dx+"px"}};event.bind(el,transitionend,end);util.translate(el,x,y);return end};module.exports=Animate},function(module,exports){var map={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};var el=document.createElement("p");for(var transition in map){if(null!=el.style[transition]){module.exports=map[transition];break}}},function(module,exports){module.exports=uid;function uid(len){len=len||7;return Math.random().toString(35).substr(2,len)}}])});